{"version":3,"file":"main.js","sources":["data/data-adapter.js","utils.js","data/game-logic.js","data/game-model.js","data/timer.js","create-element.js","templates/footer.js","abstract-view.js","templates/greeting-view.js","templates/intro-view.js","templates/header.js","templates/rules-view.js","templates/stats-template.js","templates/game-templates.js","templates/modal.js","templates/game-two-view.js","templates/game-one-view.js","templates/game-three-view.js","templates/stats-templates.js","templates/stats-view.js","dispatcher.js","main.js"],"sourcesContent":["const GameScreenTypes = {\n  'ONE-OF-THREE': `GAME-3`,\n  'TINDER-LIKE': `GAME-2`,\n  'TWO-OF-TWO': `GAME-1`\n};\n\nconst ImageTypes = {\n  'PAINTING': `paint`,\n  'PHOTO': `photo`\n};\n\n\nconst adaptServerData = (data) => {\n  return data.map((item) => {\n    return {\n      type: GameScreenTypes[item.type.toUpperCase()],\n      question: item.question,\n      images: item.answers.map(({type, image: {url, width, height}}) => ({\n        src: url,\n        width,\n        height,\n        type: ImageTypes[type.toUpperCase()]\n      }))\n    };\n  });\n};\nexport default adaptServerData;\n","const contentContainer = document.querySelector(`.central`);\n\nconst renderScreen = (element) => {\n  contentContainer.innerHTML = ``;\n  contentContainer.appendChild(element);\n};\n\nconst onLoadError = (errorMessage) => {\n  const node = document.createElement(`div`);\n  node.textContent = errorMessage;\n  node.setAttribute(`class`, `error-message`);\n  document.body.insertAdjacentElement(`afterbegin`, node);\n  setTimeout(function () {\n    const Message = document.querySelector(`.error-message`);\n    document.body.removeChild(Message);\n  }, 5000);\n};\n\n\nexport {renderScreen, onLoadError};\n","const LENGTH_ARR_ANSWERS = 10;\nconst MIN_LIVES = 0;\n\nconst StatPoints = {\n  CORRECT_ANSWER: 100,\n  FAST_ANSWER: 50,\n  SLOW_ANSWER: 50,\n  LIVE: 50\n};\n\nconst AnswerDurations = {\n  FAST: 20,\n  SLOW: 10\n};\n\nconst countScore = (data, lives) => {\n  if (lives < MIN_LIVES) {\n    return false;\n  }\n  if (data.answers && data.answers.length !== LENGTH_ARR_ANSWERS) {\n    return false;\n  }\n  const answersPoints = data.answers.reduce((previousValue, item) => {\n    if (item) {\n      previousValue += StatPoints.CORRECT_ANSWER;\n    }\n    return previousValue;\n  }, 0);\n\n  const answersDurationPoints = data.time.reduce((previousValue, item) => {\n    if (item >= AnswerDurations.FAST) {\n      previousValue += StatPoints.FAST_ANSWER;\n    } else if (item < AnswerDurations.SLOW) {\n      previousValue -= StatPoints.SLOW_ANSWER;\n    }\n    return previousValue;\n  }, 0);\n\n  return (lives * StatPoints.LIVE) + answersPoints + answersDurationPoints;\n};\nexport {countScore, StatPoints, AnswerDurations};\n","import adaptServerData from './data-adapter.js';\nimport {onLoadError} from '../utils.js';\nimport {AnswerDurations} from '../data/game-logic';\nimport {TimerValues} from '../dispatcher';\n\nconst INITIAL_LIVES = 3;\nconst ScreenTypes = {\n  INTRO: `INTRO`,\n  GREETING: `GREETING`,\n  RULES: `RULES`,\n  STATS: `STATS`\n};\nconst AnswerTypes = {\n  FAST: `fast`,\n  SLOW: `slow`,\n  SUCCESS: `succes`,\n  FAIL: `fail`\n};\n\nclass GameModel {\n  constructor(handleDataLoad) {\n    this._handleDataLoad = handleDataLoad;\n    this._dataLoaded = false;\n    this._onLoadError = onLoadError;\n    this._state = null;\n    this.restart = this.restart.bind(this);\n    this._loader = this._loader.bind(this);\n    this._onLoad = this._onLoad.bind(this);\n    this._levelsData = [];\n    this.init = this.init.bind(this);\n    this.restart();\n  }\n\n\n  get gameData() {\n    return {\n      currentLevel: this._state.currentLevel,\n      answers: this._state.answers,\n      lives: this._state.lives,\n      levels: this._state.levels,\n      userName: this._state.userName,\n      questionStats: this._state.questionStats,\n      timeOver: this._state.timeOver,\n      time: this._state.time\n    };\n  }\n\n\n  _getIntro() {\n    return {\n      type: ScreenTypes.INTRO,\n      dataLoaded: this._dataLoaded\n    };\n  }\n\n  static _getGreeting() {\n    return {\n      type: ScreenTypes.GREETING\n    };\n  }\n\n  static _getRules() {\n    return {\n      type: ScreenTypes.RULES,\n      userName: ``\n    };\n  }\n\n  static _getStats() {\n    return {\n      type: ScreenTypes.STATS\n    };\n  }\n\n  _onLoad(data) {\n    this._dataLoaded = true;\n    this._levelsData = data;\n    this._state.levels = this._getGameList();\n    if (typeof this._handleDataLoad === `function`) {\n      return this._handleDataLoad();\n    }\n    return false;\n  }\n\n  _loader() {\n    const onLoad = this._onLoad;\n    let formatData;\n    window.fetch(`https://es.dump.academy/pixel-hunter/questions`)\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          } else if (response.status === 404) {\n            return Promise.reject(`Файлы на сервере не найдены`);\n          }\n          return Promise.reject(`Неизвестный статус: ${response.status} ${response.statusText}`);\n        })\n        .then((data) => {\n          formatData = adaptServerData(data);\n          return onLoad(formatData);\n        })\n        .catch((err) => {\n          if (err.stack === `TypeError: Failed to fetch`) {\n            return this._onLoadError(`Сервер недоступен`);\n          }\n          return this._onLoadError(`Ошибка: ${err}`);\n        });\n  }\n\n  _getGameList() {\n    return [this._getIntro(), GameModel._getGreeting(), GameModel._getRules(), ...this._levelsData, GameModel._getStats()];\n  }\n\n  static _getQuestionStats(time) {\n    if (time >= AnswerDurations.FAST) {\n      return AnswerTypes.FAST;\n    } else if (time <= AnswerDurations.SLOW) {\n      return AnswerTypes.SLOW;\n    }\n    return AnswerTypes.SUCCESS;\n  }\n\n\n  init() {\n    this._state = {\n      stats: [],\n      lives: INITIAL_LIVES,\n      answers: [],\n      levels: this._getGameList(),\n      currentLevel: 0,\n      userName: ``,\n      questionStats: [],\n      time: []\n    };\n    if (!this._dataLoaded) {\n      this._loader();\n    }\n  }\n\n  setSuccessAnswer(time) {\n    this._state.answers.push(true);\n    this._state.questionStats.push(GameModel._getQuestionStats(time));\n    this._state.time.push(time);\n  }\n\n  restart() {\n    this.init();\n  }\n\n  setWrongAnswer() {\n    this._state.answers.push(false);\n    this._state.lives--;\n    this._state.currentLevel++;\n    this._state.questionStats.push(AnswerTypes.FAIL);\n    if (this._state.lives < 0) {\n      this._state.currentLevel = this._state.levels.length - 1;\n    }\n  }\n\n  setTimeOut() {\n    this._state.time.push(TimerValues.MAX);\n    this._state.questionStats.push(AnswerTypes.FAIL);\n    this._state.currentLevel++;\n    this._state.lives--;\n  }\n\n  savePlayerName(playerName) {\n    this._state.userName = playerName;\n  }\n\n  setNextScreen() {\n    this._state.currentLevel++;\n  }\n}\n\nexport {GameModel, AnswerTypes};\n","const timer = function (time) {\n  if (typeof time !== `number`) {\n    throw new Error(`Значение не числового типа`);\n  }\n\n  if (time < 0) {\n    throw new Error(`Время не может быть отрицательным`);\n  }\n\n  return {\n    value: time,\n    tick() {\n      if (time > 0) {\n        this.value--;\n      } else if (time === 0) {\n        return `Время вышло`;\n      }\n      return this.value;\n    }\n  };\n};\n\nexport default timer;\n","const createElement = (template) => {\n  return document.createRange().createContextualFragment(template);\n};\n\nexport default createElement;\n","const FOOTER = ` <footer class=\"footer\">\n    <a href=\"https://htmlacademy.ru\" class=\"social-link social-link--academy\">HTML Academy</a>\n    <span class=\"footer__made-in\">Сделано в <a href=\"https://htmlacademy.ru\" class=\"footer__link\">HTML Academy</a> &copy; 2016</span>\n    <div class=\"footer__social-links\">\n      <a href=\"https://twitter.com/htmlacademy_ru\" class=\"social-link  social-link--tw\">Твиттер</a>\n      <a href=\"https://www.instagram.com/htmlacademy/\" class=\"social-link  social-link--ins\">Инстаграм</a>\n      <a href=\"https://www.facebook.com/htmlacademy\" class=\"social-link  social-link--fb\">Фэйсбук</a>\n      <a href=\"https://vk.com/htmlacademy\" class=\"social-link  social-link--vk\">Вконтакте</a>\n    </div>\n  </footer>`;\nexport default FOOTER;\n","import createElement from './create-element.js';\nimport FOOTER from './templates/footer.js';\n\nexport default class AbstractView {\n  constructor(dispatch) {\n    if (new.target === AbstractView) {\n      throw new Error(`Нельзя создать AbstractView`);\n    }\n    if (!dispatch) {\n      throw new Error(`Не передан dispatch`);\n    }\n    this.dispatch = this.dispatch.bind(this);\n    this._footer = FOOTER;\n    this._dispach = dispatch;\n  }\n  get template() {\n    throw new Error(`Не найден подходящий шаблон`);\n  }\n\n  get element() {\n    if (this._element) {\n      return this._element;\n    } else {\n      this._element = this.render().cloneNode(true);\n      this.bind(this._element);\n      return this._element;\n    }\n  }\n\n  get timer() {\n    return this.element.querySelector(`.game__timer`);\n  }\n\n  render() {\n    return createElement(this.template);\n  }\n\n  dispatch(data) {\n    return this._dispach(data);\n  }\n\n  bind() {\n  }\n}\n","import AbstractView from '../abstract-view.js';\nimport {GameStatuses} from '../dispatcher.js';\n\nclass GreetingView extends AbstractView {\n  constructor(dispatch) {\n    super(dispatch);\n    this.onMouseDownGreeting = this.onMouseDownGreeting.bind(this);\n  }\n\n  get template() {\n    return `<div class=\"greeting central--blur\">\n    <div class=\"greeting__logo\"><img src=\"img/logo_big.png\" width=\"201\" height=\"89\" alt=\"Pixel Hunter\"></div>\n    <h1 class=\"greeting__asterisk\">*</h1>\n    <div class=\"greeting__challenge\">\n      <h3>Лучшие художники-фотореалисты бросают&nbsp;тебе&nbsp;вызов!</h3>\n      <p>Правила игры просты.<br>\n        Нужно отличить рисунок&nbsp;от фотографии и сделать выбор.<br>\n        Задача кажется тривиальной, но не думай, что все так просто.<br>\n        Фотореализм обманчив и коварен.<br>\n        Помни, главное — смотреть очень внимательно.</p>\n    </div>\n    <div class=\"greeting__continue\"><span><img src=\"img/arrow_right.svg\" width=\"64\" height=\"64\" alt=\"Next\"></span></div>\n  </div>\n      ${this._footer}`;\n  }\n\n  bind() {\n    this._nextBtn = this.element.querySelector(`.greeting__continue`);\n    this._nextBtn.addEventListener(`mousedown`, this.onMouseDownGreeting);\n  }\n\n  onMouseDownGreeting() {\n    this._nextBtn.removeEventListener(`mousedown`, this.onMouseDownGreeting);\n    this.dispatch({status: GameStatuses.SUCCES, isGame: false});\n  }\n}\n\nexport default GreetingView;\n","import AbstractView from '../abstract-view.js';\nimport {GameStatuses} from '../dispatcher.js';\n\nclass IntroView extends AbstractView {\n  constructor(dispatch, levelData) {\n    super(dispatch);\n    this._levelData = levelData;\n    this.onMouseDownAsterisk = this.onMouseDownAsterisk.bind(this);\n  }\n\n  get template() {\n    return `<div id=\"main\" class=\"central__content\"> \n      <div id=\"intro\" class=\"intro\">\n        <h1 class=\"intro__asterisk\">${this._levelData.dataLoaded ? `*` : `загрузка`}</h1>\n        <img src=\"\" alt=\"\" width=\"50\">\n        <p class=\"intro__motto\"><sup>*</sup> Это не фото. Это рисунок маслом нидерландского художника-фотореалиста Tjalf Sparnaay.</p>\n       </div>\n    </div>\n      ${this._footer}`;\n  }\n\n  bind() {\n    this._ASTERISK = this.element.querySelector(`.intro__asterisk`);\n    this._ASTERISK.addEventListener(`mousedown`, this.onMouseDownAsterisk);\n  }\n\n  onMouseDownAsterisk() {\n    this._ASTERISK.removeEventListener(`mousedown`, this.onMouseDownAsterisk);\n    this.dispatch({status: GameStatuses.SUCCES, isGame: false});\n  }\n}\n\nexport default IntroView;\n","const headerStatistics = (state) =>\n  `<header class=\"header\">\n    <div class=\"header__back\">\n      <button class=\"back\">\n        <img src=\"img/arrow_left.svg\" width=\"45\" height=\"45\" alt=\"Back\">\n        <img src=\"img/logo_small.svg\" width=\"101\" height=\"44\">\n      </button>\n    </div>\n    <h1 class=\"game__timer\"></h1>\n    <div class=\"game__lives\">\n    ${new Array(3 - state.lives).fill(`<img src=\"img/heart__empty.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`).join(``)}\n    ${new Array(state.lives).fill(`<img src=\"img/heart__full.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`).join(``)}\n    </div>\n  </header>`;\n\nconst HEADER = `<header class=\"header\">\n    <div class=\"header__back\">\n      <button class=\"back\">\n        <img src=\"img/arrow_left.svg\" alt=\"Back\" width=\"45\" height=\"45\">\n        <img src=\"img/logo_small.svg\" width=\"101\" height=\"44\">\n      </button>\n    </div>\n  </header>`;\n\nexport {headerStatistics, HEADER};\n","import AbstractView from '../abstract-view.js';\nimport {HEADER} from './header.js';\nimport {GameStatuses} from '../dispatcher.js';\n\nclass RulesView extends AbstractView {\n  constructor(dispatch) {\n    super(dispatch);\n    this.onMouseDownButtonGo = this.onMouseDownButtonGo.bind(this);\n    this.onMouseDownButtonBack = this.onMouseDownButtonBack.bind(this);\n    this.onKeyUpInputName = this.onKeyUpInputName.bind(this);\n    this.header = HEADER;\n  }\n\n  get template() {\n    return `${this.header}\n<div class=\"rules\">\n    <h1 class=\"rules__title\">Правила</h1>\n    <p class=\"rules__description\">Угадай 10 раз для каждого изображения фото <img\n      src=\"img/photo_icon.png\" width=\"16\" height=\"16\"> или рисунок <img\n      src=\"img/paint_icon.png\" width=\"16\" height=\"16\" alt=\"\">.<br>\n      Фотографиями или рисунками могут быть оба изображения.<br>\n      На каждую попытку отводится 30 секунд.<br>\n      Ошибиться можно не более 3 раз.<br>\n      <br>\n      Готовы?\n    </p>\n    <form class=\"rules__form\">\n      <input class=\"rules__input\" autofocus type=\"text\" placeholder=\"Ваше Имя\">\n      <button class=\"rules__button  continue\" type=\"submit\" disabled>Go!</button>\n    </form>\n  </div>\n      ${this._footer}`;\n  }\n\n  bind() {\n    this.buttonGo = this.element.querySelector(`.rules__button`);\n    this.buttonBack = this.element.querySelector(`.header__back`);\n    this.inputName = this.element.querySelector(`.rules__input`);\n    this.buttonGo.addEventListener(`mousedown`, this.onMouseDownButtonGo);\n    this.buttonBack.addEventListener(`mousedown`, this.onMouseDownButtonBack);\n    this.inputName.addEventListener(`keyup`, this.onKeyUpInputName);\n  }\n\n  onKeyUpInputName() {\n    if (this.inputName.value.length) {\n      this.buttonGo.removeAttribute(`disabled`);\n    } else {\n      this.buttonGo.setAttribute(`disabled`, `disabled`);\n    }\n  }\n\n  removeListeners() {\n    this.buttonGo.removeEventListener(`mousedown`, this.onMouseDownButtonGo);\n    this.buttonBack.removeEventListener(`mousedown`, this.onMouseDownButtonBack);\n    this.inputName.removeEventListener(`keyup`, this.onKeyUpInputName);\n  }\n\n  onMouseDownButtonGo(evt) {\n    evt.preventDefault();\n    this.removeListeners();\n    this.dispatch({status: GameStatuses.SUCCES, isGame: false, name: this.inputName.value});\n  }\n\n  onMouseDownButtonBack() {\n    this.removeListeners();\n    this.dispatch({status: GameStatuses.GO_BACK});\n  }\n}\n\nexport default RulesView;\n","import {AnswerTypes} from '../data/game-model';\nconst LENGTH_STATS = 10;\n\nconst drawStats = (stats) => {\n  const arrayStats = new Array(LENGTH_STATS).fill(`<li class=\"stats__result stats__result--unknown\"></li>`);\n\n  stats.forEach((item, index) =>{\n    if (item === AnswerTypes.SUCCESS) {\n      arrayStats[index] = `<li class=\"stats__result stats__result--correct\"></li>`;\n    } else if (item === AnswerTypes.FAIL) {\n      arrayStats[index] = `<li class=\"stats__result stats__result--wrong\"></li>`;\n    } else if (item === AnswerTypes.SLOW) {\n      arrayStats[index] = `<li class=\"stats__result stats__result--slow\"></li>`;\n    } else if (item === AnswerTypes.FAST) {\n      arrayStats[index] = `<li class=\"stats__result stats__result--fast\"></li>`;\n    }\n  });\n  return arrayStats.join(``);\n};\n\nconst stats = (statsList) => `\n      <ul class=\"stats\">\n        ${drawStats(statsList)}\n      </ul>`;\n\nexport {stats};\n","import {stats} from './stats-template.js';\n\nconst templateFirst = (data, statsData) => {\n  return `<div class=\"game\">\n    <p class=\"game__task\">${data.question}</p>\n    <form class=\"game__content\">\n      <div class=\"game__option\">\n        <img src=\"${data.images[0].src}\" alt=\"Option 1\" width=\"${data.images[0].width}\" height=\"${data.images[0].height}\">\n        <label class=\"game__answer game__answer--photo\">\n          <input name=\"question1\" type=\"radio\" value=\"photo\">\n          <span>Фото</span>\n        </label>\n        <label class=\"game__answer game__answer--paint\">\n          <input name=\"question1\" type=\"radio\" value=\"paint\">\n          <span>Рисунок</span>\n        </label>\n      </div>\n      <div class=\"game__option\">\n        <img src=\"${data.images[1].src}\" alt=\"Option 2\" width=\"${data.images[1].width}\" height=\"${data.images[1].height}\">\n        <label class=\"game__answer  game__answer--photo\">\n          <input name=\"question2\" type=\"radio\" value=\"photo\">\n          <span>Фото</span>\n        </label>\n        <label class=\"game__answer  game__answer--paint\">\n          <input name=\"question2\" type=\"radio\" value=\"paint\">\n          <span>Рисунок</span>\n        </label>\n      </div>\n    </form>\n    <div class=\"stats\">\n    ${stats(statsData)}\n    </div>\n  </div>\n  `;\n};\n\n\nconst templateSecond = (data, statsData) => `<div class=\"game\">\n    <p class=\"game__task\">${data.question}</p>\n    <form class=\"game__content  game__content--wide\">\n      <div class=\"game__option\">\n        <img src=\"${data.images[0].src}\" alt=\"Option 1\" width=\"${data.images[0].width}\" height=\"${data.images[0].height}\">\n        <label class=\"game__answer  game__answer--photo\">\n          <input name=\"question1\" type=\"radio\" value=\"photo\">\n          <span>Фото</span>\n        </label>\n        <label class=\"game__answer  game__answer--wide  game__answer--paint\">\n          <input name=\"question1\" type=\"radio\" value=\"paint\">\n          <span>Рисунок</span>\n        </label>\n      </div>\n    </form>\n    <div class=\"stats\">\n    ${stats(statsData)}\n    </div>\n  </div>\n  `;\n\nconst templateThird = (data, statsData) => `\n  <div class=\"game\">\n    <p class=\"game__task\">${data.question}</p>\n    <form class=\"game__content  game__content--triple\">\n      <div class=\"game__option\">\n        <img src=\"${data.images[0].src}\" alt=\"Option 1\" data=\"${data.images[0].type}\" width=\"${data.images[0].width}\" height=\"${data.images[0].height}\">\n      </div>\n      <div class=\"game__option  game__option--selected\">\n        <img src=\"${data.images[1].src}\" alt=\"Option 1\" data=\"${data.images[1].type}\" width=\"${data.images[0].width}\" height=\"${data.images[1].height}\">\n      </div>\n      <div class=\"game__option\">\n        <img src=\"${data.images[2].src}\" alt=\"Option 1\" data=\"${data.images[2].type}\" width=\"${data.images[0].width}\" height=\"${data.images[2].height}\">\n      </div>\n    </form>\n    <div class=\"stats\">\n  ${stats(statsData)}\n  </div>\n  </div>\n  `;\n\nexport {templateFirst, templateSecond, templateThird};\n","const MODAL = `\n<div class=\"modal\">\n\t<div class=\"modal__wrapper\">\n\t\t<h3 class=\"modal__title\">Результаты игры будет не сохранены. <br>Продолжить?</h3>\n\t\t<button class=\"back\">Да</button>\n\t\t<button class=\"still\">Нет</button>\n\t</div>\n\t<div class=\"modal__overlay\"></div>\n</div>\n`;\nexport default MODAL;\n","import AbstractView from '../abstract-view.js';\nimport {headerStatistics} from './header.js';\nimport {templateSecond} from './game-templates';\nimport MODAL from './modal.js';\nimport {GameStatuses} from '../dispatcher.js';\n\nclass GameTwoView extends AbstractView {\n  constructor(dispatch, levelData, stats) {\n    super(dispatch);\n    this._levelData = levelData;\n    this._stats = stats;\n    this._headerStatistics = headerStatistics;\n    this._templateSecomnd = templateSecond;\n    this._gameImages = levelData.images;\n    this.onMouseDownButtonBack = this.onMouseDownButtonBack.bind(this);\n    this.onChangeInput = this.onChangeInput.bind(this);\n    this.onMouseDownModal = this.onMouseDownModal.bind(this);\n    this._modaltemplate = MODAL;\n  }\n\n  get template() {\n    return `${this._headerStatistics(this._stats)} ${this._templateSecomnd(this._levelData, this._stats.questionStats)} ${this._footer} ${this._modaltemplate}`;\n  }\n\n  bind() {\n    this._buttonBack = this.element.querySelector(`.header__back`);\n    this._timeAnswer = this.element.querySelector(`.game__timer`);\n    this._gameContent = this.element.querySelector(`.game__content`);\n    this._modal = this.element.querySelector(`.modal`);\n    this._buttonBack.addEventListener(`mousedown`, this.onMouseDownButtonBack);\n    this._gameContent.addEventListener(`change`, this.onChangeInput);\n    this._modal.classList.add(`modal--close`);\n  }\n\n  removeListeners() {\n    this._buttonBack.removeEventListener(`mousedown`, this.onMouseDownButtonBack);\n    this._gameContent.removeEventListener(`change`, this.onChangeInput);\n  }\n\n  removeModalListener() {\n    this._modal.removeEventListener(`mousedown`, this.onMouseDownModal);\n  }\n\n  onMouseDownButtonBack() {\n    this._modal.classList.remove(`modal--close`);\n    this._modal.addEventListener(`mousedown`, this.onMouseDownModal);\n  }\n\n  onMouseDownModal(evt) {\n    if (evt.target.className === `back`) {\n      this.removeListeners();\n      this.removeModalListener();\n      this.dispatch({status: GameStatuses.GO_BACK, isGame: true});\n    } else {\n      this.removeModalListener();\n      this._modal.classList.add(`modal--close`);\n    }\n  }\n\n  onChangeInput(evt) {\n    this.removeListeners();\n    if (this._gameImages[0].type === evt.target.value) {\n      this.dispatch({status: GameStatuses.SUCCES, time: this._timeAnswer.innerText, isGame: true});\n    } else {\n      this.dispatch({status: GameStatuses.FAIL, isGame: true});\n    }\n  }\n}\n\nexport default GameTwoView;\n","import AbstractView from '../abstract-view.js';\nimport {headerStatistics} from './header.js';\nimport {templateFirst} from './game-templates';\nimport MODAL from './modal.js';\nimport {GameStatuses} from '../dispatcher.js';\n\nconst Questions = {\n  FIRST: `question1`,\n  SECOND: `question2`\n};\n\nclass GameOneView extends AbstractView {\n  constructor(dispatch, levelData, stats) {\n    super(dispatch);\n    this._levelData = levelData;\n    this._stats = stats;\n    this._headerStatistics = headerStatistics;\n    this._templateFirst = templateFirst;\n    this._chekedOne = false;\n    this._chekedTwo = false;\n    this._gameImages = levelData.images;\n    this._modalTemplate = MODAL;\n    this.onMouseDownButtonBack = this.onMouseDownButtonBack.bind(this);\n    this.onChangeInput = this.onChangeInput.bind(this);\n    this.onMouseDownModal = this.onMouseDownModal.bind(this);\n    this.setNextScreen = this.setNextScreen.bind(this);\n  }\n\n  get template() {\n    return `${this._headerStatistics(this._stats)} ${this._templateFirst(this._levelData, this._stats.questionStats)} ${this._footer} ${this._modalTemplate}`;\n  }\n\n  bind() {\n    this._buttonBack = this.element.querySelector(`.header__back`);\n    this._timeAnswer = this.element.querySelector(`.game__timer`);\n    this._modal = this.element.querySelector(`.modal`);\n    this._gameContent = this.element.querySelector(`.game__content`);\n\n    this._buttonBack.addEventListener(`mousedown`, this.onMouseDownButtonBack);\n    this._gameContent.addEventListener(`change`, this.onChangeInput);\n    this._modal.classList.add(`modal--close`);\n  }\n\n  removeListeners() {\n    this._buttonBack.removeEventListener(`mousedown`, this.onMouseDownButtonBack);\n    this._gameContent.removeEventListener(`change`, this.onChangeInput);\n  }\n  removeModalListener() {\n    this._modal.removeEventListener(`mousedown`, this.onMouseDownModal);\n  }\n\n  onMouseDownButtonBack() {\n    this._modal.classList.remove(`modal--close`);\n    this._modal.addEventListener(`mousedown`, this.onMouseDownModal);\n  }\n\n  onMouseDownModal(evt) {\n    if (evt.target.className === `back`) {\n      this.removeListeners();\n      this.removeModalListener();\n      this.dispatch({status: GameStatuses.GO_BACK, isGame: true});\n    } else {\n      this.removeModalListener();\n      this._modal.classList.add(`modal--close`);\n    }\n  }\n\n  setNextScreen() {\n    if (this._chekedOne && this._chekedTwo) {\n      this.removeListeners();\n      if (this._gameImages[0].type === this._chekedOne && this._gameImages[1].type === this._chekedTwo) {\n        this.dispatch({status: GameStatuses.SUCCES, time: this._timeAnswer.innerText, isGame: true});\n      } else {\n        this.dispatch({status: GameStatuses.FAIL, isGame: true});\n      }\n      this._chekedOne = false;\n      this._chekedTwo = false;\n    }\n  }\n\n  onChangeInput(evt) {\n    if (evt.target.name === Questions.FIRST) {\n      this._chekedOne = evt.target.value;\n    } else if (evt.target.name === Questions.SECOND) {\n      this._chekedTwo = evt.target.value;\n    }\n    this.setNextScreen();\n  }\n\n}\n\nexport default GameOneView;\n","import AbstractView from '../abstract-view.js';\nimport {headerStatistics} from './header.js';\nimport {templateThird} from './game-templates';\nimport MODAL from './modal.js';\nimport {GameStatuses} from '../dispatcher.js';\n\nconst AnswerTypes = {\n  PAINT: `paint`,\n  PHOTO: `photo`\n};\n\nclass GameThreeView extends AbstractView {\n  constructor(dispatch, levelData, stats) {\n    super(dispatch);\n    this._levelData = levelData;\n    this._stats = stats;\n    this._headerStatistics = headerStatistics;\n    this._templateThird = templateThird;\n    this._modalTemplate = MODAL;\n\n    this.onMouseDownButtonBack = this.onMouseDownButtonBack.bind(this);\n    this.onMouseDownModal = this.onMouseDownModal.bind(this);\n    this.onMouseDownGameCard = this.onMouseDownGameCard.bind(this);\n  }\n\n  get template() {\n    return `${this._headerStatistics(this._stats)} ${this._templateThird(this._levelData, this._stats.questionStats)} ${this._footer} ${this._modalTemplate}`;\n  }\n\n  bind() {\n    this.buttonBack = this.element.querySelector(`.header__back`);\n    this.gameCards = this.element.querySelectorAll(`.game__option`);\n    this._gameContent = this.element.querySelector(`.game__content`);\n    this._modal = this.element.querySelector(`.modal`);\n    this._timeAnswer = this.element.querySelector(`.game__timer`);\n    this.buttonBack.addEventListener(`mousedown`, this.onMouseDownButtonBack);\n    this._gameContent.addEventListener(`mousedown`, this.onMouseDownGameCard);\n    this._modal.classList.add(`modal--close`);\n  }\n\n  removeListeners() {\n    this._gameContent.removeEventListener(`mousedown`, this.onMouseDownGameCard);\n    this.buttonBack.removeEventListener(`mousedown`, this.onMouseDownButtonBack);\n  }\n\n  removeModalListener() {\n    this._modal.removeEventListener(`mousedown`, this.onMouseDownModal);\n  }\n\n  onMouseDownButtonBack() {\n    this._modal.classList.remove(`modal--close`);\n    this._modal.addEventListener(`mousedown`, this.onMouseDownModal);\n  }\n\n  onMouseDownModal(evt) {\n    if (evt.target.className === `back`) {\n      this.removeListeners();\n      this.removeModalListener();\n      this.dispatch({status: GameStatuses.GO_BACK, isGame: true});\n    } else {\n      this.removeModalListener();\n      this._modal.classList.add(`modal--close`);\n    }\n  }\n\n  onMouseDownGameCard(evt) {\n    this.removeListeners();\n    const correctAnswer = () => {\n      let counterPaint = 0;\n      let counterPhoto = 0;\n\n      for (let gameCard of this.gameCards) {\n        if (gameCard.children[0].attributes[2].value === AnswerTypes.PAINT) {\n          counterPaint++;\n        } else {\n          counterPhoto++;\n        }\n      }\n      return counterPhoto > counterPaint ? AnswerTypes.PAINT : AnswerTypes.PHOTO;\n    };\n    if (evt.target.attributes[2].value === correctAnswer()) {\n      this.dispatch({status: GameStatuses.SUCCES, time: this._timeAnswer.innerText, isGame: true});\n    } else {\n      this.dispatch({status: GameStatuses.FAIL, isGame: true});\n    }\n  }\n}\n\nexport default GameThreeView;\n","import {stats} from './stats-template.js';\nimport {countScore, StatPoints} from '../data/game-logic';\nimport {AnswerTypes} from '../data/game-model.js';\n\nconst countStat = (arrayAnswers) => {\n  const counter = {\n    fast: 0,\n    slow: 0,\n    total: 0\n  };\n\n  for (let answer of arrayAnswers) {\n    if (answer === AnswerTypes.FAST) {\n      counter.fast++;\n    } else if (answer === AnswerTypes.SLOW) {\n      counter.slow++;\n    }\n    if (answer !== AnswerTypes.FAIL) {\n      counter.total++;\n    }\n  }\n  return counter;\n};\n\nconst winTemplate = (gameData) => {\n  const countedStats = countStat(gameData.questionStats);\n  return `<div class=\"result\">\n<h1>Победа!</h1>\n  <table class=\"result__table\">\n      <tr>\n        <td class=\"result__number\">1.</td>\n        <td colspan=\"2\">\n          ${stats(gameData.questionStats)}\n        </td>\n        <td class=\"result__points\">×&nbsp;${StatPoints.CORRECT_ANSWER}</td>\n        <td class=\"result__total\">${countedStats.total * StatPoints.CORRECT_ANSWER}</td>\n      </tr>\n      <tr>\n        <td></td>\n        <td class=\"result__extra\">Бонус за скорость:</td>\n        <td class=\"result__extra\">${countedStats.fast}&nbsp;<span class=\"stats__result stats__result--fast\"></span></td>\n        <td class=\"result__points\">×&nbsp;${StatPoints.FAST_ANSWER}</td>\n        <td class=\"result__total\">${countedStats.fast * StatPoints.FAST_ANSWER}</td>\n      </tr>\n      <tr>\n        <td></td>\n        <td class=\"result__extra\">Бонус за жизни:</td>\n        <td class=\"result__extra\">${gameData.lives}&nbsp;<span class=\"stats__result stats__result--alive\"></span></td>\n        <td class=\"result__points\">×&nbsp;${StatPoints.LIVE}</td>\n        <td class=\"result__total\">${gameData.lives * StatPoints.LIVE}</td>\n      </tr>\n      <tr>\n        <td></td>\n        <td class=\"result__extra\">Штраф за медлительность:</td>\n        <td class=\"result__extra\">${countedStats.slow}&nbsp;<span class=\"stats__result stats__result--slow\"></span></td>\n        <td class=\"result__points\">×&nbsp;${StatPoints.SLOW_ANSWER}</td>\n        <td class=\"result__total\">-${countedStats.slow * StatPoints.SLOW_ANSWER}</td>\n      </tr>\n      <tr>\n        <td colspan=\"5\" class=\"result__total  result__total--final\">${countScore(gameData, gameData.lives)}</td>\n      </tr>\n    </table>\n</div>`;\n};\n\n\nconst failTemplate = (gameData) =>\n  `<div class=\"result\">\n<h1>Поражение!</h1>\n<table class=\"result__table\">\n    <tr>\n    <td class=\"result__number\">1.</td>\n    <td>\n    ${stats(gameData.questionStats)}\n    </td>\n    <td class=\"result__total\"></td>\n    <td class=\"result__total  result__total--final\">fail</td>\n    </tr>\n    </table>\n</div>`;\n\nconst historyTemplate = (gameData, index) =>{\n  const resultTotat = countScore(gameData, gameData.lives);\n  return `<div class=\"result\">\n<table class=\"result__table\">\n    <tr>\n    <td class=\"result__number\">${index + 1}</td>\n    <td>\n    ${stats(gameData.questionStats)}\n    </td>\n    <td class=\"result__total\"></td>\n    <td class=\"result__total  result__total--final\">${resultTotat ? resultTotat : `FAIL` }</td>\n    </tr>\n    </table>\n</div>`;\n};\n\nexport {failTemplate, winTemplate, historyTemplate};\n","import AbstractView from '../abstract-view.js';\nimport createElement from '../create-element.js';\nimport {HEADER} from './header.js';\nimport {countScore} from '../data/game-logic.js';\nimport {failTemplate, winTemplate, historyTemplate} from './stats-templates.js';\nimport {onLoadError} from '../utils.js';\nimport {GameStatuses} from '../dispatcher.js';\n\nconst compareTotalPoints = (itemOne, itemTwo) => {\n  return itemTwo.totalPoints - itemOne.totalPoints;\n};\n\nclass StatsView extends AbstractView {\n  constructor(dispatch, status, stats) {\n    super(dispatch);\n    this._status = status;\n    this._stats = stats;\n    this._header = HEADER;\n    this.applicationId = 215150;\n    this._html = ``;\n    this._countScore = countScore;\n    this._onLoadError = onLoadError;\n    this._onLoad = this._onLoad.bind(this);\n    this.onMouseDownButtonBack = this.onMouseDownButtonBack.bind(this);\n    this.getUserData();\n    this.postData();\n  }\n\n  postData() {\n    fetch(`https://es.dump.academy/pixel-hunter/stats/:${this.applicationId}-:${this._stats.userName}`, {\n      method: `POST`,\n      body: JSON.stringify({\n        'questionStats': this._stats.questionStats,\n        'lives': this._stats.lives,\n        'status': `historyGame`,\n        'answers': this._stats.answers,\n        'time': this._stats.time\n      }),\n      headers: {\n        'Content-Type': `application/json`\n      }\n    })\n        .then((response) => {\n          if (!response.ok) {\n            Promise.reject(`Произошла ошибка, при отправлении данных.`);\n          }\n        })\n        .catch((err) => {\n          if (err.stack === `TypeError: Failed to fetch`) {\n            return this._onLoadError(`Ошибка при отправлении данных: Сервер недоступен`);\n          }\n          return this._onLoadError(`Ошибка при отправлении данных: ${err}`);\n        });\n  }\n\n  _onLoad(data) {\n    const serverData = data;\n    const historyContainer = document.createDocumentFragment();\n    const lastGameScore = this._countScore(this._stats, this._stats.lives);\n    const historyTitle = document.createElement(`h2`);\n    let lastGamePosition = 1;\n    historyTitle.textContent = `Предыдущие результаты`;\n    historyContainer.appendChild(historyTitle);\n\n    const countingUserStatistics = serverData.map((item) => {\n      item.totalPoints = this._countScore(item, item.lives);\n      return item;\n    });\n\n    countingUserStatistics.sort(compareTotalPoints);\n\n    countingUserStatistics.forEach((item, index) => {\n      if (item.totalPoints > lastGameScore) {\n        lastGamePosition = index + 2;\n      }\n      const templateElement = this._createTemplate(item.status, item, index);\n      historyContainer.appendChild(createElement(templateElement));\n    });\n\n    this.resultNumber.textContent = `${lastGamePosition}`;\n    this.resultContainer.appendChild(historyContainer);\n  }\n\n  _getCheckData(data) {\n    return this._onLoad(data);\n  }\n\n\n  getUserData() {\n    window.fetch(`https://es.dump.academy/pixel-hunter/stats/:${this.applicationId}-:${this._stats.userName}`)\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          } else if (response.status === 404) {\n            return Promise.reject(`Cтатистики прошлых игр нет`);\n          }\n          throw new Error(`Неизвестный статус: ${response.status} ${response.statusText}`);\n        })\n        .then((data) => {\n          return this._getCheckData(data);\n        })\n        .catch((err) => {\n          if (err.stack === `TypeError: Failed to fetch`) {\n            return this._onLoadError(`Сервер со статистикой недоступен`);\n          } else if (err === `Cтатистики прошлых игр нет`) {\n            return this._onLoadError(err);\n          }\n          return this._onLoadError(`Неизвестная ошибка: ${err} свяжитесь с администратором`);\n        });\n  }\n\n  _createTemplate(gameStatus, stats, index) {\n    if (gameStatus === GameStatuses.FAIL) {\n      this._html = failTemplate(stats);\n    } else if (gameStatus === GameStatuses.HISTORY) {\n      this._html = historyTemplate(stats, index);\n    } else {\n      this._html = winTemplate(stats);\n    }\n    return this._html;\n  }\n\n  get template() {\n    return `${this._header} ${this._createTemplate(this._status, this._stats)} ${this._footer}`;\n  }\n\n  bind() {\n    this.buttonBack = this.element.querySelector(`.header__back`);\n    this.resultNumber = this.element.querySelector(`.result__number`);\n    this.resultContainer = this.element.querySelector(`.result`);\n    this.buttonBack.addEventListener(`mousedown`, this.onMouseDownButtonBack);\n  }\n\n  onMouseDownButtonBack() {\n    this.buttonBack.removeEventListener(`mousedown`, this.onMouseDownButtonBack);\n    this.dispatch({status: GameStatuses.GO_BACK, isGame: false});\n  }\n\n}\n\nexport default StatsView;\n","import {GameModel} from './data/game-model.js';\nimport timer from './data/timer.js';\nimport {renderScreen} from './utils.js';\nimport GreetingView from './templates/greeting-view';\nimport IntroView from './templates/intro-view.js';\nimport RulesView from './templates/rules-view.js';\nimport GameTwoView from './templates/game-two-view.js';\nimport GameOneView from './templates/game-one-view.js';\nimport GameThreeView from './templates/game-three-view.js';\nimport StatsView from './templates/stats-view.js';\n\nconst TimerValues = {\n  MAX: 30,\n  BLINK: 5\n};\nconst LevelScreens = {\n  'INTRO': IntroView,\n  'GREETING': GreetingView,\n  'RULES': RulesView,\n  'GAME-1': GameOneView,\n  'GAME-2': GameTwoView,\n  'GAME-3': GameThreeView,\n  'STATS': StatsView\n};\nconst GameStatuses = {\n  SUCCES: `succes`,\n  FAIL: `fail`,\n  TIMEOUT: `timeOut`,\n  HISTORY: `historyGame`,\n  GO_BACK: `goBack`\n};\n\nclass GameDispatcher {\n  constructor() {\n    this.run = this.run.bind(this);\n    this._timer = null;\n    this._handlerDispatcher = this._handlerDispatcher.bind(this);\n    this._handleDataLoad = this._handleDataLoad.bind(this);\n    this._data = new GameModel(this._handleDataLoad);\n  }\n  _handleDataLoad() {\n    this.run();\n  }\n\n  _handlerDispatcher({status, time, isGame, name}) {\n    if (isGame) {\n      this._stopTimer();\n    }\n    if (status === GameStatuses.SUCCES) {\n      if (name) {\n        this._data.savePlayerName(name);\n      } else if (time) {\n        this._data.setSuccessAnswer(time);\n      }\n      this._data.setNextScreen();\n    } else if (status === GameStatuses.GO_BACK) {\n      this._data.restart();\n    } else if (status === GameStatuses.FAIL) {\n      this._data.setWrongAnswer();\n    }\n    this.run();\n  }\n\n  run() {\n    const gameData = this._data.gameData;\n    const levelData = gameData.levels[gameData.currentLevel];\n    if (gameData.currentLevel === 0) {\n      renderScreen(new IntroView(this._handlerDispatcher, levelData).element);\n    } else if (gameData.lives < 0) {\n      renderScreen(new StatsView(this._handlerDispatcher, GameStatuses.FAIL, gameData).element);\n    } else if (gameData.currentLevel <= 14) {\n      const levelScreen = new LevelScreens[levelData.type](this._handlerDispatcher, levelData, gameData);\n      const element = levelScreen.timer;\n      renderScreen(levelScreen.element);\n      this._initTimer(element, TimerValues.MAX);\n    }\n  }\n\n  _initTimer(element, sec) {\n    let time = sec;\n    if (element !== null) {\n      element.textContent = sec;\n      this._timer = setInterval(() => {\n        if (time === 1) {\n          this._stopTimer();\n          this._data.setTimeOut();\n          this.run();\n        }\n        time = GameDispatcher._getNextTick(time);\n        GameDispatcher._renderTimer(element, time);\n      }, 1000);\n    }\n\n  }\n\n  static _getNextTick(sec) {\n    return timer(sec).tick();\n  }\n\n  static _renderTimer(element, value) {\n    element.textContent = value;\n    if (value === TimerValues.BLINK) {\n      element.classList.add(`blink`);\n    }\n  }\n\n  _stopTimer() {\n    clearInterval(this._timer);\n  }\n}\n\nexport {GameDispatcher, GameStatuses, TimerValues};\n","import {GameDispatcher} from './dispatcher.js';\n\nconst game = new GameDispatcher();\ngame.run();\n"],"names":["AnswerTypes"],"mappings":"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"}